მარშრუტიზაციის პრინციპები
ქსელთაშორისი ურთიერთობის ორგანიზაციის პროცესში დიდი მნიშვნელობა აქვს სხვადასხვა
ქსელებს შორის მონაცემების მარშრუტიზაციას. მარშრუტიზაცია გულისხმობს ერთი ქსელიდან ან
ქვექსელიდან მეორეში პაკეტების გადაადგილების პროცესს. როგორც საქსელო მოწყობილობის -
მარშრუტიზატორის განხილვისას იყო აღნიშნული, მოწყობილობას, რომელიც უზრუნველყოფს ერთი
ქსელიდან მეორეში პაკეტების გადაცემას ოპტიმალური გზით - მარშრუტით, მარშრუტიზატორი
ეწოდება.
პაკეტის გადაგზავნისას ჰოსტი გადაწყვეტილებას იღებს გადასცეს თუ არა მარშრუტიზატორს პაკეტი
მისი შემდგომი გადაადგილებისათვის. თუკი დანიშნულების ჰოსტის ქსელის მისამართი გადამცემის
ჰოსტის ქსელის მისამართისაგან განსხვავდება (რაც იმას ნიშნავს, რომ გადამცემი და მიმღები ჰოსტები
სხვადასხვა ქსელებშია განთავსებული), და მათ შორის მარშრუტიზატორია, გადამცემი მიმართავს
თავის ARP-ცხრილს და იღებს ცხრილიდან მარშრუტიზატორის პორტის IP-მისამართის შესაბამის
MAC-მისამართს. მისამართის არარსებობის შემთხვევაში, გადამცემი ჰოსტი ლოკალურ ქსელში
აგზავნის ფართომაუწყებლობის ARP-მოთხოვნას, რათა ARP-პასუხით მიიღოს შეკვეთილი MAC-
მისამართი. ამის შემდეგ ჰოსტი მიღებულ MAC-მისამართს განათავსებს IP ფორმატის (Ethernet
ქსელებისათვის) პროტოკოლში და პაკეტს მისი შემდგომი გადაადგილებისათვის მარშრუტიზატორს
გადაუგზავნის.
რთულ ქსელებში გადამცემ და მიმღებ ჰოსტებს შორის ყოველთვის არსებობს პაკეტების გაცვლის
რამდენიმე ალტერნატიული მარშრუტი.
მარშრუტის არჩევა ქსელის კრიტერიუმების გათვალისწინებით ხდება. კრიტერიუმები შეიძლება იყოს
პაკეტების გადაადგილების გზაზე პაკეტების შეყოვნების დრო, ქსელის გამტარუნარიანობა და
ინტერვალების (hop) რაოდენობა. მიღებული ინფორმაციის ანალიზის შედეგად თითოეულ
მარშრუტიზატორში პაკეტის მოძრაობის შესახებ იქმნება მონაცემთა ბაზა, ანუ მარშრუტიზაციის
ცხრილი, რომელიც პაკეტის გადაადგილების შემდგომ მარშრუტს განსაზღვრავს.
ზოგადად, მარშრუტიზაციის ცხრილს აქვს შემდეგი სახე (ცხრილი 5.1):
ცხრ ილი 5.1
დანიშნულების
ქსელის მისამ.
შემდეგი პორტის
მისამ.
მიმდინარე
პორტის მისამ.
ინტერვალი
დანიშნ.
ქსელამდე (hop)
ცხრილის პირველი სვეტი შეიცავს პაკეტის დანიშნულების ქსელის მისამართს, ანუ იმ ქსელის
მისამართს, რომლის აბონენტიცაა პაკეტის მიმღები ჰოსტი. ხშირად, ამ ველის რამდენიმე სტრიქონი
დანიშნულების ერთსა და იმავე მისამართს მიუთითებს.
ცხრილის მეორე სვეტი განსაზღვრავს იმ მეზობელი მარშრუტიზატორის ინტერფეისს, რომელსაც
უნდა გადაეგზავნოს პაკეტი, რათა მან დანიშნულების ჰოსტამდე მოძრაობა ოპტიმალური მარშრუტით
გააგრძელოს.
მეზობელ მარშრუტიზატორზე პაკეტის გადაცემამდე მარშრუტიზატორმა უნდა განსაზღვროს, თუ
რომელი პორტით გააგზავნოს პაკეტი. მესამე სვეტში განთავსებული ჩანაწერები სწორედ გამომავალი
ინტერფეისის მისამართებია. ზოგადად შეიძლება ითქვას, რომ მარშრუტიზატორის მისამართი არის
მასზე მიერთებული ქსელის მისამართი, ხოლო პორტს მისამართი ისევე ენიჭება, როგორც ლოკალური
ქსელის ნებისმიერ ჰოსტს.
მეოთხე სვეტში ჩაწერილი რიცხვი განსაზღვრავს პაკეტის დანიშნულების ჰოსტამდე
მარშრუტიზატორების რაოდენობას ანუ ინტერვალს (hop). ინტერვალის საწყისი მნიშვნელობის არჩევას
(0 ან 1), არა აქვს გადამწყვეტი მნიშვნელობა. იგი სხვადასხვა მარშრუტიზატორისათვის სხვადასხვაა.
მთავარია, რომ დაშორებული ქსელის მეტრიკის ათვლა მოხდეს საწყისი მნიშვნელობის
გათვალისწინებით. 0-ის ტოლი ინტერვალი ნიშნავს, რომ მარშრუტიზატორი უშუალოდ მიმდინარე
ქსელთანაა მიერთებული. გავიხსენოთ, რომ, რაც უფრო მცირეა ინტერვალის მნიშვნელობა, მით
უკეთესია მარშრუტი.
გამმეორებელი (Repeater)
მონაცემების გადაცემა კაბელებში ელექტრული სიგნალების -იმპულსების სახით ხდება. კაბელის წინაღობის
და არაერთგვაროვნების გამო, მასში გამავალი სიგნალი არა მხოლოდ
სუსტდება, არამედ ფორმასაც იცვლის, მახინჯდება. ამგვარ ეფექტს,
სიგნალის მილევადობა (Attenuation) ეწოდება. რაც უფრო დიდია
კაბელის სიგრძე, მით მეტია სიგნალის მილევადობა. კაბელის
გარკვეული სიგრძის შემდეგ, სიგნალის ფორმისა და ზომის ამოცნობა
შეუძლებელი ხდება, რაც ბუნებრივია იწვევს მონაცემების შეცდომით
აღქმას მიმღების მიერ.
ქსელში გამავალი მაღალსიხშირული სიგნალების მხოლოდ გაძლიერება საკმარისი არ არის, ვინაიდან
სასარგებლო სიგნალთან ერთად ძლიერდება მისი სახეცვლილების მდგენელიც. ასეთ შემთხვევაში
გამოიყენება სპეციალური მოწყობილობა-გამმეორებელი (Repeater ). მისი დანიშნულებაა არა მხოლოდ
სიგნალის მიღება, არამედ სიგნალის პირველადი სახის ამოცნობა, მისი გაძლიერება იგი და საჭირო
მიმართულებით გადაცემა. გამმეორებლის ფუნქციას ხშირად ასრულებს კომუტატორი, თუმცა დიდი
მანძილის შემთხვევაში უკეთესია გამმეორებლის გამოყენება.
როგორც გამმეორებლის დანიშნულებიდან ჩანს, იგი პაკეტის კომუტირებას არ ახდენს. მისი ნორმალურად
მუშაობისათვის აუცილებელია, რომ მიმღები და გადამცემი აბონენტები იდენტური ტიპის პაკეტებით,
პროტოკოლებითა და შეღწევის მეთოდებით მუშაობდნენ. გამმეორებელს არ შეუძლია ერთმანეთთან
დააკავშიროს, მაგალითად, Ethetnet და Token Ring ქსელები. ვინაიდან გამმეორებელი მონაცემებს გადასცემს
ერთი კაბელიდან მეორეში შემოწმების გარეშე, შეცდომიანი პაკეტების გამოხშირვაც შეუძლებელია.
მაგალითად, არასწორი საკონტროლო ჯამის ან არაკონდიციური ზომის კადრები ისეთივე წარმატებით
გაძლიერდება და გადაეცემა დანიშნულების აბონენტს, როგორც სწორად ფორმირებული კადრები.
ზოგიერთ გამმეორებელს, რომელსაც აქვს გარდამქმნელის (Converter) ფუნქციები, შეუძლია ერთი ფიზიკური
გარემოდან მიღებული პაკეტები გააძლიეროს და გარდაქმნას სხვა ფიზიკური გარემოს პაკეტები. მაგალითად,
გამმეორებლმა შესაძლოა მიიღოს გრეხილწყვილიანი კაბელით Ethernet კადრი, გამოჰყოს და გააძლიეროს
მისი პირველადი სახე, გარდაქმნას იგი სინათლის სხივად და გადასცეს ოპტიკურ-ბოჭკოვანი კაბელით.
როგორც წესი, გამმეორებლებს არ იყენებენ იმ ქსელებში, სადაც მაღალია საქსელო ტრაფიკი ან საჭიროა
მონაცემების კომუტაცია.
მარშრუტიზატორი (Router)
გასული საუკუნის 80-იან წლებში ლოკალური ქსელები ერთმანეთისგან იზოლირებულად მუშაობდნენ.
ისინი ემსახურებოდნენ ერთ კომპანიას ან განყოფილებებს კომპანიის შიგნით. მაგრამ როდესაც დაიწყო
სხვადასხვა ორგანიზაციებს შორის ინფორმაციის გაცვლა, გარდა პროტოკოლების შეჯერებისა,
აუცილებელი გახდა ქსელებს შორის ოპტიმალური მარშრუტის არჩევაც.
მარშრუტიზატორი (Router-მეგზური, მარშრუტიზატორი) არის მოწყობილობა, რომელიც ქსელის
ტოპოლოგიისა და გარკვეული წესების გათვალისწინებით, უზრუნველყოფს ქსელის სეგმენტებსა ან
სხვადასხვა ქსელებს შორის მონაცემების ოპტიმალური
მარშრუტით გადაცემას.
ნახ. 3.13
მარშრუტიზატორი შეიძლება იყოს სერვერი, რომელსაც
აქვს რამდენიმე ქსელური ინტერფეისი და რომელშიც ჩატვირთულია სპეციალური პროგრამული
უზრუნველყოფა. დიდი და რთული ქსელებისათვის, განსაკუთრებით მათთვის, რომლებიც ”გადიან”
ინტერნეტში, გამოიყენება ძვირადღირებული, მრავალინტერფეისიანი, ცალკე კონსტრუქციის
მარშრუტიზატორი (ნახ. 3.13) .
მარშრუტიზატორის ძირითადი შემადგენელი ნაწილებია:
- პორტები, რომლითაც იგი უერთდება მეზობელ მარშრუტიზატორებს;
- ქსელური ადაპტერები შესაბამისი MAC და IP მისამართებით. ქსელური ადაპტერები პორტებთან
ერთად წარმოადგენს ლოკალურ და გლობალურ ქსელებთან დამაკავშირებელ ინტერფეისს;
- მმართველი პროცესორი ბუფერული მეხსიერებით. პროცესორი ბუფერში განთავსებულ
მარშრუტიზების ცხრილიდან ირჩევს პაკეტის გადაცემის მარშრუტს და მის შესაბამის პორტს.
ჰოსტის მიერ მონაცემების გადაგზავნა ერთი ქსელიდან სხვა ქსელის ჰოსტზე მარშრუტიზატორის
გავლით ხდება. სანამ პაკეტი დანიშნულების ჰოსტს მიაღწევს, მან მრავალი შუალედური ქსელი უნდა
გაიაროს. ყოველ ქსელს, თავის მხრივ, თავისი მარშრუტიზატორი აქვს. ბუნებრივია, პაკეტს
გადამცემიდან მიმღებამდე სხვადასხვა გზით შეუძლია მოხვედრა. რაც უფრო ნაკლები
მარშრუტიზატორი ”დახვდება” პაკეტს გადაადგილებისას, მით უფრო ნაკლები მანძილის გავლა
მოუწევს პაკეტს და მით უფრო ნაკლები დრო დასჭირდება მას დანიშნულების ადგილზე მოსახვედრად.
პაკეტის გადაადგილების გზაზე არსებული მარშრუტიზატორების რაოდენობის მაჩვენებელ რიცხვს
ინტერვალი (Hop - ნახტომი, შუალედი, ინტერვალი) ანუ შუალედი ეწოდება. სწორედ
მარშრუტიზატორის ძირითადი დანიშნულებაა რთულ, განსაკუთრებით გლობალურ ქსელში
გაარკვიოს პაკეტის გადაადგილების ოპტიმალური მარშრუტი ანუ გზა, სადაც ყველაზე ნაკლები
ინტერვალი იქნება. პაკეტის გადაადგილების მარშრუტი და შუალედი მარშრუტიზატორში ცხრილის
სახით იწერება.
არც მონაცემების გამგზავნ ჰოსტს და არც რომელიმე შუალედურ მარშრუტიზატორს არა აქვს პაკეტის
გადაადგილების სრული მარშრუტის ცხრილი. როგორც წესი, ცხრილში იწერება მხოლოდ
დანიშნულების ჰოსტის IP-მისამართი, მიმდინარე ქსელის IP-მისამართი, მეზობელი
მარშრუტიზატორის ინტერფეისის მისამართი და შუალედი. მეზობელი მარშრუტიზატორები დროის
გარკვეულ მონაკვეთში ერთმანეთს შორის ცვლიან ცხრილების მნიშვნელობებს. როდესაც
მარშრუტიზატორს მიეწოდება პაკეტი, პროცესორი წაიკითხავს დანიშნულების ქსელის მისამართს და
შეადარებს მას ცხრილში განთავსებულ მისამართებს. მისამართების თანხვედრის შემთხვევაში, პაკეტი
შესაბამისი პორტიდან გადაეგზავნება შემდეგ მარშრუტიზატორს; წინააღმდეგ შემთხვევაში - ყველა
მეზობელ მარშრუტიზატორს ერთდროულად. პაკეტის მისვლისას შემდგომ მარშრუტიზატორზე
ჩატარდება იგივე პროცედურები და ასე გაგრძელდება მანამ, სანამ პაკეტი დანიშნულების ადგილს არ
მიაღწევს. ყოველი მარშრუტიზატორის გავლის შემდეგ ინტერვალი იზრდება 1-ით. რადგან
დანიშნულების ადგილზე მისვლა სხვადასხვა გზით შეიძლება, პაკეტის გადასაადგილებლად აირჩევა
ის მარშრუტი, რომლის ცხრილშიც შუალედის მნიშვნელობა სხვებთან შედარებით ნაკლებია. ცხრილის
ის ჩანაწერი, რომელშიც დანიშნულების ჰოსტამდე მისვლას დასჭირდა მეტი შუალედი, შეიცვლება
ნაკლები შუალედის მქონე მისამართების ჩანაწერით.
სადღეისოდ, მარშრუტიზატორების მწარმოებელ ფირმებს შორის ლიდერობს კომპანია Cisco, რომლის
პროდუქცია გამოირჩევა მაღალი მწარმოებლობითა და საიმედოობით. Cisco-ს თავისი
მოწყობილობებისათვის აქვს ქსელთაშორისი ოპერაციული სისტემა IOS (Internetwork Operating System)
ანუ სპეციალური პროგრამების ერთობლიობა, რომელის დანიშნულებაა მარშტუტიზატორების,
კომუტატორების, ქსელთაშორისო ურთიერთობებისა და სატელეკომუნიკაციო ფუნქციების მართვა.
მისი ზომა რამდენიმე მეგაბაიტია და ინახება საქსელო მოწყობილობის (მარშრუტიზატორი,
კომუტატორი) ენერგოდამოუკიდებელ Flash – მეხსიერებაში. მოწყობილობის ჩართვისას IOS
გადაიწერება მოწყობილობის RAM ოპერატიულ მეხსიერებაში, ხოლო შემდეგ მიღებულ ბრძანებებსა და
მონაცემებს თავისსავე პროცესორს გადასცემს შემდგომი დამუშავების მიზნით. თანამედროვე
მარშრუტიზატორების RAM და Flash მეხსიერება ასობით მეგაბაიტია, ხოლო პროცესორი -
მაღალსიხშირული და მრავალბირთვიანი. ძირითადად ამ პარამეტრებითაა განპირობებული საქსელო
მოწყობილობების წარმადობა და ინფორმაციის გაცვლის სიჩქარე.